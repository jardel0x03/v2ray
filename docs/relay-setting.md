# V2Ray 脚本中转教程

2023-08-09 17:25

使用 V2Ray 脚本中转流量超级简单，利用 Dokodemo-door 进行转发，详细教程一分钟学会

## 前言

考虑到有些人需要中转，特此写个教程，其实非常简单的好吧，真的！

先说逻辑，假设你有 A-B 两台 VPS，打算使用 A 机器转发流量到 B 机器。

常见的用途是国内连接到 A 机器的网络比较好，然后希望通过 A 机器转发数据到 B 机器，再通过 B 机器干坏事（

又或者是 B 机器可以解锁一些在线服务之类，但是直连效果不好，甚至 IP 都被墙了，想要使用 A 机器做前置转发。

**缺点是，只能转发 TCP 或 UDP 流量，带 TLS 的不行**

## 前提

肯定要已经安装了棒棒的 V2Ray 脚本 才可以啊。

## 流程

你得先这样，然后再这样，最后你再这样，听明白了没有！哎，你怎么就听不懂，我是不是说得不够清楚？

### 添加配置

先在 B 机器添加一个 V2Ray 配置，举例： `v2ray add tcp 233`

这样来就是添加了一个 VMESS-TCP 的配置，并且端口是 233

如果你已经有配置就不用再添加了，反正记下 B 机器的 IP 和配置的 **端口** 即可

因为利用 A 机器转发的时候必须要填写上 B 机器的 IP，以及要转到到 B 机器的哪个端口

### door

使用方法： `v2ray add door [port] [remote-addr] [remote-port]`

在 A 机器执行：`v2ray add door`，然后输入 B 机器的 IP 和端口

**Dokodemo-door**

图片仅供参考

默认情况下 V2Ray 脚本会随机生成一个端口，如果你需要自定义端口请使用 `v2ray add door 需要自定义的端口`

### 测试

把 B 机器给出的配置里面的地址和端口，改成 A 机器的 IP 和端口即可

就是 B 机器的配置，假设你用 v2rayN 通过 URL 导入了配置，把配置的地址和端口改成 A 机器的 IP 和 Dokodemo-door 端口。

看看是不是能使用了？

## 一键添加

快速添加一个中转配置：

```bash
v2ray add door 233 b.233boy.com 443
```

解释：添加一个 Dokodemo-door 配置，端口 233，目标地址 b.233boy.com，目标端口 443。

是的，目标地址你也可以使用域名。

## 机智如我

虽然说上面的例子是来中转 V2Ray 配置使用，但是你也可以做一下跳板机，用来搞一下骚操作

比如说，转发数据到 1.1.1.1 DNS：`v2ray add door 53 1.1.1.1 53`，这样来就是你的 53 端口也可以做 DNS 啦

至于其他的操作，自行发挥！

## 结束

就是如此简单~

呀，不要好奇为什么不在脚本选项里面显示，因为所以。
